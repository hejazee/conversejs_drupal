var buildIq;buildIq=function(type,jid,vCardEl){var iq;iq=$iq(jid?{type:type,to:jid}:{type:type});iq.c("vCard",{xmlns:Strophe.NS.VCARD});if(vCardEl){iq.cnode(vCardEl);}
return iq;};Strophe.addConnectionPlugin('vcard',{_connection:null,init:function(conn){this._connection=conn;return Strophe.addNamespace('VCARD','vcard-temp');},get:function(handler_cb,jid,error_cb){var iq;iq=buildIq("get",jid);return this._connection.sendIQ(iq,handler_cb,error_cb);},set:function(handler_cb,vCardEl,jid,error_cb){var iq;iq=buildIq("set",jid,vCardEl);return this._connection.sendIQ(iq,handler_cb,error_rb);}});