;(function($,undefined){'use strict';var fls=!1,nll=null,prsflt=parseFloat,mathmn=Math.min,rxLastNr=/(-?\d+\.?\d*)$/g,rxLastNrNoDash=/(\d+\.?\d*)$/g,aPluginPrepare=[],aPluginSort=[],isString=function(o){return typeof o=='string';},loop=function(array,func){var l=array.length,i=l,j;while(i--){j=l-i-1;func(array[j],j);}},fnIndexOf=Array.prototype.indexOf||function(elm){var len=this.length,from=Number(arguments[1])||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0)from+=len;for(;from<len;from++){if(from in this&&this[from]===elm)return from;}
return-1;};$.tinysort={id:'TinySort',version:'1.5.6',copyright:'Copyright (c) 2008-2013 Ron Valstar',uri:'http://tinysort.sjeiti.com/',licensed:{MIT:'http://www.opensource.org/licenses/mit-license.php',GPL:'http://www.gnu.org/licenses/gpl.html'},plugin:(function(){var fn=function(prepare,sort){aPluginPrepare.push(prepare);aPluginSort.push(sort);};fn.indexOf=fnIndexOf;return fn;})(),defaults:{order:'asc',attr:nll,data:nll,useVal:fls,place:'start',returns:fls,cases:fls,forceStrings:fls,ignoreDashes:fls,sortFunction:nll}};$.fn.extend({tinysort:function(){var i,j,l,oThis=this,aNewOrder=[],aElements=[],aElementsParent=[],aCriteria=[],iCriteria=0,iCriteriaMax,aFind=[],aSettings=[],fnPluginPrepare=function(_settings){loop(aPluginPrepare,function(fn){fn.call(fn,_settings);});},fnPrepareSortElement=function(settings,element){if(typeof element=='string'){if(!settings.cases)element=toLowerCase(element);element=element.replace(/^\s*(.*?)\s*$/i,'$1');}
return element;},fnSort=function(a,b){var iReturn=0;if(iCriteria!==0)iCriteria=0;while(iReturn===0&&iCriteria<iCriteriaMax){var oPoint=aCriteria[iCriteria],oSett=oPoint.oSettings,rxLast=oSett.ignoreDashes?rxLastNrNoDash:rxLastNr;fnPluginPrepare(oSett);if(oSett.sortFunction){iReturn=oSett.sortFunction(a,b);}else if(oSett.order=='rand'){iReturn=Math.random()<0.5?1:-1;}else{var bNumeric=fls,sA=fnPrepareSortElement(oSett,a.s[iCriteria]),sB=fnPrepareSortElement(oSett,b.s[iCriteria]);if(!oSett.forceStrings){var aAnum=isString(sA)?sA&&sA.match(rxLast):fls,aBnum=isString(sB)?sB&&sB.match(rxLast):fls;if(aAnum&&aBnum){var sAprv=sA.substr(0,sA.length-aAnum[0].length),sBprv=sB.substr(0,sB.length-aBnum[0].length);if(sAprv==sBprv){bNumeric=!fls;sA=prsflt(aAnum[0]);sB=prsflt(aBnum[0]);}}}
iReturn=oPoint.iAsc*(sA<sB?-1:(sA>sB?1:0));}
loop(aPluginSort,function(fn){iReturn=fn.call(fn,bNumeric,sA,sB,iReturn);});if(iReturn===0)iCriteria++;}
return iReturn;};for(i=0,l=arguments.length;i<l;i++){var o=arguments[i];if(isString(o)){if(aFind.push(o)-1>aSettings.length)aSettings.length=aFind.length-1;}else{if(aSettings.push(o)>aFind.length)aFind.length=aSettings.length;}}
if(aFind.length>aSettings.length)aSettings.length=aFind.length;iCriteriaMax=aFind.length;if(iCriteriaMax===0){iCriteriaMax=aFind.length=1;aSettings.push({});}
for(i=0,l=iCriteriaMax;i<l;i++){var sFind=aFind[i],oSettings=$.extend({},$.tinysort.defaults,aSettings[i]),bFind=!(!sFind||sFind===''),bFilter=bFind&&sFind[0]===':';aCriteria.push({sFind:sFind,oSettings:oSettings,bFind:bFind,bAttr:!(oSettings.attr===nll||oSettings.attr===''),bData:oSettings.data!==nll,bFilter:bFilter,$Filter:bFilter?oThis.filter(sFind):oThis,fnSort:oSettings.sortFunction,iAsc:oSettings.order=='asc'?1:-1});}
oThis.each(function(i,el){var $Elm=$(el),mParent=$Elm.parent().get(0),mFirstElmOrSub,aSort=[];for(j=0;j<iCriteriaMax;j++){var oPoint=aCriteria[j],mElmOrSub=oPoint.bFind?(oPoint.bFilter?oPoint.$Filter.filter(el):$Elm.find(oPoint.sFind)):$Elm;aSort.push(oPoint.bData?mElmOrSub.data(oPoint.oSettings.data):(oPoint.bAttr?mElmOrSub.attr(oPoint.oSettings.attr):(oPoint.oSettings.useVal?mElmOrSub.val():mElmOrSub.text())));if(mFirstElmOrSub===undefined)mFirstElmOrSub=mElmOrSub;}
var iElmIndex=fnIndexOf.call(aElementsParent,mParent);if(iElmIndex<0){iElmIndex=aElementsParent.push(mParent)-1;aElements[iElmIndex]={s:[],n:[]};}
if(mFirstElmOrSub.length>0)aElements[iElmIndex].s.push({s:aSort,e:$Elm,n:i});else aElements[iElmIndex].n.push({e:$Elm,n:i});});loop(aElements,function(oParent){oParent.s.sort(fnSort);});loop(aElements,function(oParent){var aSorted=oParent.s,aUnsorted=oParent.n,iSorted=aSorted.length,iUnsorted=aUnsorted.length,iNumElm=iSorted+iUnsorted,aOriginal=[],iLow=iNumElm,aCount=[0,0];switch(oSettings.place){case'first':loop(aSorted,function(obj){iLow=mathmn(iLow,obj.n);});break;case'org':loop(aSorted,function(obj){aOriginal.push(obj.n);});break;case'end':iLow=iUnsorted;break;default:iLow=0;}
for(i=0;i<iNumElm;i++){var bFromSortList=contains(aOriginal,i)?!fls:i>=iLow&&i<iLow+iSorted,iCountIndex=bFromSortList?0:1,mEl=(bFromSortList?aSorted:aUnsorted)[aCount[iCountIndex]].e;mEl.parent().append(mEl);if(bFromSortList||!oSettings.returns)aNewOrder.push(mEl.get(0));aCount[iCountIndex]++;}});oThis.length=0;Array.prototype.push.apply(oThis,aNewOrder);return oThis;}});function toLowerCase(s){return s&&s.toLowerCase?s.toLowerCase():s;}
function contains(a,n){for(var i=0,l=a.length;i<l;i++)if(a[i]==n)return!fls;return fls;}
$.fn.TinySort=$.fn.Tinysort=$.fn.tsort=$.fn.tinysort;})(jQuery);